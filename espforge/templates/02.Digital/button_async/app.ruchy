//must be a function called setup and forever

//Any function starting with task_ is a async embassy function
fun task_button_pressed(mut red_led: LED) {
    loop {
        let _ = signal.wait().await
        red_led.toggle()
    }
}

fun setup() {
    log.info("Button with embassy")
}

fun forever() {
    button.wait_for_press().await
    signal.signal()
    delay.delay_millis(500);
}


// DO NOT TOUCH
fun main() {
    setup()
    loop() {
        forever()
    }
}
